<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔍 飞书链接验证工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto max-w-4xl p-6">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h1 class="text-3xl font-bold text-center mb-8 text-blue-600">
                🔍 飞书链接验证工具
            </h1>
            
            <!-- 输入区域 -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    粘贴您的飞书链接：
                </label>
                <input 
                    type="url" 
                    id="feishuUrl" 
                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                    placeholder="https://your-company.feishu.cn/docx/..."
                    oninput="validateFeishuLink()"
                >
            </div>
            
            <!-- 验证结果 -->
            <div id="validationResult" class="mb-6"></div>
            
            <!-- 正确格式示例 -->
            <div class="bg-blue-50 rounded-lg p-6 mb-6">
                <h3 class="text-lg font-semibold text-blue-800 mb-4">📋 正确的飞书链接格式：</h3>
                <div class="space-y-2 text-sm text-blue-700">
                    <div class="flex items-center space-x-2">
                        <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
                        <code class="bg-blue-100 px-2 py-1 rounded">https://company.feishu.cn/docx/文档ID</code>
                        <span class="text-xs">(飞书文档)</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
                        <code class="bg-blue-100 px-2 py-1 rounded">https://company.feishu.cn/file/文件ID</code>
                        <span class="text-xs">(飞书云盘)</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
                        <code class="bg-blue-100 px-2 py-1 rounded">https://company.feishu.cn/minutes/会议ID</code>
                        <span class="text-xs">(会议录制)</span>
                    </div>
                </div>
            </div>
            
            <!-- 获取链接步骤 -->
            <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-green-800 mb-4">🔧 如何获取正确的飞书链接：</h3>
                <ol class="list-decimal list-inside space-y-2 text-sm text-green-700">
                    <li>在飞书中打开要分享的文档/文件/录制</li>
                    <li>点击右上角的 <strong>"分享"</strong> 按钮</li>
                    <li>选择 <strong>"复制链接"</strong> 或 <strong>"获取分享链接"</strong></li>
                    <li>确保权限设置为 <strong>"组织内成员可访问"</strong></li>
                    <li>将复制的链接粘贴到上方输入框验证</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        function validateFeishuLink() {
            const input = document.getElementById('feishuUrl');
            const result = document.getElementById('validationResult');
            const url = input.value.trim();
            
            if (!url) {
                result.innerHTML = '';
                return;
            }
            
            // 飞书链接正则表达式
            const feishuPatterns = [
                { pattern: /^https:\/\/[\w-]+\.feishu\.cn\/docx?\/[\w-]+/, type: '飞书文档', icon: '📄' },
                { pattern: /^https:\/\/[\w-]+\.feishu\.cn\/file\/[\w-]+/, type: '飞书云盘文件', icon: '📁' },
                { pattern: /^https:\/\/[\w-]+\.feishu\.cn\/minutes\/[\w-]+/, type: '飞书会议录制', icon: '🎥' },
                { pattern: /^https:\/\/[\w-]+\.feishu\.cn\/drive\/folder\/[\w-]+/, type: '飞书云盘文件夹', icon: '📂' },
                { pattern: /^https:\/\/[\w-]+\.feishu\.cn\/vc\/[\w-]+/, type: '飞书视频会议', icon: '📹' },
            ];
            
            let isValid = false;
            let linkType = '';
            let icon = '';
            
            for (const { pattern, type, icon: typeIcon } of feishuPatterns) {
                if (pattern.test(url)) {
                    isValid = true;
                    linkType = type;
                    icon = typeIcon;
                    break;
                }
            }
            
            if (isValid) {
                result.innerHTML = `
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">${icon}</span>
                            <div>
                                <p class="font-semibold">✅ 链接格式正确！</p>
                                <p class="text-sm">检测到：${linkType}</p>
                                <p class="text-xs mt-1">此链接可以在训练平台中正常使用</p>
                            </div>
                        </div>
                    </div>
                `;
            } else if (url.includes('feishu.cn')) {
                result.innerHTML = `
                    <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">⚠️</span>
                            <div>
                                <p class="font-semibold">链接格式可能有问题</p>
                                <p class="text-sm">这是飞书链接，但格式不太标准</p>
                                <p class="text-xs mt-1">请检查是否包含正确的文档/文件ID</p>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                result.innerHTML = `
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">❌</span>
                            <div>
                                <p class="font-semibold">这不是飞书链接</p>
                                <p class="text-sm">请确保链接来自您的企业飞书</p>
                                <p class="text-xs mt-1">链接应该包含 .feishu.cn 域名</p>
                            </div>
                        </div>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
